{"remainingRequest":"/home/mathius/Documents/nodejs/belajar-mevn-stack/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mathius/Documents/nodejs/belajar-mevn-stack/client/src/views/Update.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mathius/Documents/nodejs/belajar-mevn-stack/client/src/views/Update.vue","mtime":1595953486296},{"path":"/home/mathius/Documents/nodejs/belajar-mevn-stack/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mathius/Documents/nodejs/belajar-mevn-stack/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mathius/Documents/nodejs/belajar-mevn-stack/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mathius/Documents/nodejs/belajar-mevn-stack/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgTmF2YmFyIGZyb20gIkAvY29tcG9uZW50cy9OYXZiYXIudnVlIgppbXBvcnQgRm9ybSBmcm9tICJAL2NvbXBvbmVudHMvRm9ybTIudnVlIgppbXBvcnQgUG9zdFNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlL1Bvc3RTZXJ2aWNlIgoKZXhwb3J0IGRlZmF1bHQgewoJbmFtZTogJ1VwZGF0ZScsCgljb21wb25lbnRzOiB7CgkJTmF2YmFyLAoJCUZvcm0KCX0sCglkYXRhKCkgewoJCXJldHVybiB7CgkJCWZvcm06IHsKCQkJCXN1Y2Nlc3M6ICcnLAoJCQkJbWVzc2FnZTogJycsCgkJCQl0aXRsZTogJycsCgkJCQlwdWJsaXNoZWQ6IGZhbHNlLAoJCQkJZGVzY3JpcHRpb246ICcnLAoJCQkJc2VuZEZvcm06IHRoaXMuc2VuZEZvcm0sCgkJCQlpZDogbnVsbAoJCQl9CgkJfQoJfSwKCW1vdW50ZWQoKSB7CgkJdGhpcy5nZXRQb3N0QnlJZCgpCgl9LAoJbWV0aG9kczogewoJCWdldFBvc3RCeUlkKCkgewoJCQl0aGlzLmZvcm0uaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKCgkJCVBvc3RTZXJ2aWNlLmdldE9uZUJ5SWQodGhpcy5mb3JtLmlkKQoJCQkudGhlbihyZXNwb25zZSA9PiB7CgkJCQkJdGhpcy5mb3JtLnRpdGxlID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRzWzBdLnRpdGxlIAoJCQkJCXRoaXMuZm9ybS5kZXNjcmlwdGlvbiA9IHJlc3BvbnNlLmRhdGEucmVzdWx0c1swXS5kZXNjcmlwdGlvbgoJCQkJCXRoaXMuZm9ybS5wdWJsaXNoZWQgPSByZXNwb25zZS5kYXRhLnJlc3VsdHNbMF0ucHVibGlzaGVkCgkJCX0pCgkJCS5jYXRjaChlcnIgPT4gewoJCQkJY29uc29sZS5sb2coZXJyKQoJCQl9KQoJCX0sCgkJc2VuZEZvcm0oKSB7CgkJCWNvbnNvbGUubG9nKHRoaXMuZm9ybS5wdWJsaXNoZWQpCgkJCVBvc3RTZXJ2aWNlLnVwZGF0ZVBvc3QoeyBpZDogdGhpcy5mb3JtLmlkLCB0aXRsZTogdGhpcy5mb3JtLnRpdGxlLCBkZXNjcmlwdGlvbjogdGhpcy5mb3JtLmRlc2NyaXB0aW9uLCBwdWJsaXNoZWQ6IHRoaXMuZm9ybS5wdWJsaXNoZWQudG9TdHJpbmcoKSB9KQoJCQkudGhlbihyZXNwb25zZSA9PiB7CgkJCQl0aGlzLmZvcm0ubWVzc2FnZSA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZQoJCQkJdGhpcy5mb3JtLnN1Y2Nlc3MgPSB0cnVlCgoJCQkJc2V0VGltZW91dCgoKSA9PiB7CgkJCQkJdGhpcy5mb3JtLm1lc3NhZ2UgPSBudWxsCgkJCQkJdGhpcy5mb3JtLnN1Y2Nlc3MgPSBudWxsCgkJCQkJdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnSG9tZScgfSkKCQkJCX0sIDMwMDApCgoJCQl9KQoJCQkuY2F0Y2goZXJyID0+IHsKCQkJCXRoaXMuZm9ybS5tZXNzYWdlID0gJ0dhZ2FsJwoJCQkJdGhpcy5mb3JtLnN1Y2Nlc3MgPSBmYWxzZQoJCQkJY29uc29sZS5sb2coZXJyKQoKCQkJCXNldFRpbWVvdXQoKCkgPT4gewoJCQkJCXRoaXMuZm9ybS5tZXNzYWdlID0gbnVsbAoJCQkJCXRoaXMuZm9ybS5zdWNjZXNzID0gbnVsbAoJCQkJCXRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ0hvbWUnIH0pCgkJCQl9LCAzMDAwKQoJCQl9KQoJCX0KCX0KfQkKCg=="},{"version":3,"sources":["Update.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Update.vue","sourceRoot":"src/views","sourcesContent":["<template>\n\t<div>\n\t\t<Navbar />\n\t\t<Form :form=\"form\"/>\n\t</div>\n</template>\n\n<script>\n\t\n\timport Navbar from \"@/components/Navbar.vue\"\n\timport Form from \"@/components/Form2.vue\"\n\timport PostService from \"@/service/PostService\"\n\n\texport default {\n\t\tname: 'Update',\n\t\tcomponents: {\n\t\t\tNavbar,\n\t\t\tForm\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tform: {\n\t\t\t\t\tsuccess: '',\n\t\t\t\t\tmessage: '',\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tpublished: false,\n\t\t\t\t\tdescription: '',\n\t\t\t\t\tsendForm: this.sendForm,\n\t\t\t\t\tid: null\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getPostById()\n\t\t},\n\t\tmethods: {\n\t\t\tgetPostById() {\n\t\t\t\tthis.form.id = this.$route.params.id\n\n\t\t\t\tPostService.getOneById(this.form.id)\n\t\t\t\t.then(response => {\n\t\t\t\t\t\tthis.form.title = response.data.results[0].title \n\t\t\t\t\t\tthis.form.description = response.data.results[0].description\n\t\t\t\t\t\tthis.form.published = response.data.results[0].published\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t\t},\n\t\t\tsendForm() {\n\t\t\t\tconsole.log(this.form.published)\n\t\t\t\tPostService.updatePost({ id: this.form.id, title: this.form.title, description: this.form.description, published: this.form.published.toString() })\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.form.message = response.data.message\n\t\t\t\t\tthis.form.success = true\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.form.message = null\n\t\t\t\t\t\tthis.form.success = null\n\t\t\t\t\t\tthis.$router.push({ name: 'Home' })\n\t\t\t\t\t}, 3000)\n\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.form.message = 'Gagal'\n\t\t\t\t\tthis.form.success = false\n\t\t\t\t\tconsole.log(err)\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.form.message = null\n\t\t\t\t\t\tthis.form.success = null\n\t\t\t\t\t\tthis.$router.push({ name: 'Home' })\n\t\t\t\t\t}, 3000)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\t\n\n</script>"]}]}